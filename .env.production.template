# =============================================================================
# PRODUCTION ENVIRONMENT CONFIGURATION TEMPLATE
# MT5 Asian Liquidity Sweep Strategy - Production Ready
# =============================================================================
# 
# INSTRUCTIONS:
# 1. Copy this file to .env.production
# 2. Replace all placeholder values with your actual production values
# 3. Never commit the actual .env.production file to version control
# 4. Use this template for deployment automation
#

# =============================================================================
# DJANGO CORE SETTINGS
# =============================================================================
DEBUG=False
SECRET_KEY=your-super-secure-secret-key-minimum-50-characters-long
ALLOWED_HOSTS=yourdomain.com,your-server-ip,localhost
CORS_ALLOWED_ORIGINS=https://yourdomain.com,https://your-frontend-domain.com

# =============================================================================
# DATABASE CONFIGURATION - PRODUCTION
# =============================================================================
# PostgreSQL (Recommended for production)
DATABASE_ENGINE=django.db.backends.postgresql
DATABASE_NAME=mt5_trading_prod
DATABASE_USER=mt5_user
DATABASE_PASSWORD=your-secure-database-password
DATABASE_HOST=your-db-host.com
DATABASE_PORT=5432
DATABASE_SSL_MODE=require

# Alternative: MySQL
# DATABASE_ENGINE=django.db.backends.mysql
# DATABASE_NAME=mt5_trading_prod
# DATABASE_USER=mt5_user
# DATABASE_PASSWORD=your-secure-database-password
# DATABASE_HOST=your-db-host.com
# DATABASE_PORT=3306

# =============================================================================
# MT5 TRADING CONFIGURATION - REAL ACCOUNT
# =============================================================================
# IMPORTANT: Use real MT5 account for production
USE_MOCK_MT5=False
MT5_LOGIN=your_real_mt5_account_number
MT5_PASSWORD=your_real_mt5_account_password
MT5_SERVER=your_broker_server_name

# Trading Symbol Configuration
DEFAULT_SYMBOL=XAUUSD
XAUUSD_PIP_VALUE=0.1
EURUSD_PIP_VALUE=0.0001
GBPUSD_PIP_VALUE=0.0001
USDJPY_PIP_VALUE=0.01

# =============================================================================
# OPENAI GPT INTEGRATION - PRODUCTION READY
# =============================================================================
# Get your API key from: https://platform.openai.com/api-keys
ENABLE_GPT_INTEGRATION=True
OPENAI_API_KEY=sk-your-real-openai-api-key-here
GPT_MODEL=gpt-4o-mini
GPT_COOLDOWN_SECONDS=300

# =============================================================================
# RISK MANAGEMENT - PRODUCTION VALUES
# =============================================================================
# Client Spec: 0.5% default risk, 1% only with bias alignment & normal vol
DEFAULT_RISK_PERCENTAGE=0.5

# Weekly Circuit Breaker - Client Spec: 6R weekly loss limit
WEEKLY_LOSS_LIMIT_R=6.0

# Daily Limits - Client Spec: 2R daily loss, max 2 trades per day
DAILY_LOSS_LIMIT_R=2.0
MAX_DAILY_SESSIONS=2

# Position Sizing
MAX_SPREAD_PIPS=2.0
SL_BUFFER_PIPS_MIN=2
SL_BUFFER_PIPS_MAX=5

# =============================================================================
# ASIAN SESSION CONFIGURATION
# =============================================================================
ASIAN_SESSION_START_HOUR=0
ASIAN_SESSION_END_HOUR=6
ASIAN_SESSION_TIMEZONE=UTC

# Range Grading Thresholds (Client Spec)
ASIAN_RANGE_NO_TRADE_MAX=29
ASIAN_RANGE_TIGHT_MIN=30
ASIAN_RANGE_TIGHT_MAX=49
ASIAN_RANGE_NORMAL_MIN=50
ASIAN_RANGE_NORMAL_MAX=150
ASIAN_RANGE_WIDE_MIN=151
ASIAN_RANGE_WIDE_MAX=180

# =============================================================================
# PHASE 3 ENHANCED FEATURES
# =============================================================================
# Sweep Threshold Components - Client Spec: max(10 pips, 7.5-10% range, 0.5×ATR(H1))
SWEEP_THRESHOLD_FLOOR_PIPS=10.0
SWEEP_THRESHOLD_RANGE_PCT=9.0

# Displacement K-Switching - Client Spec: k=1.3 normal, k=1.5 high-vol
DISPLACEMENT_ATR_MULTIPLIER_NORMAL=1.3
DISPLACEMENT_ATR_MULTIPLIER_HIGH_VOL=1.5
ATR_H1_HIGH_THRESHOLD=2.0

# News Classification - Client Spec: Tier-1 ≥60min, Others ≥30min
NEWS_TIER1_EVENTS=FOMC,CPI,NFP,INTEREST_RATE_DECISION,ECB_RATE_DECISION
NEWS_TIER1_BUFFER_MINUTES=60
NEWS_OTHER_BUFFER_MINUTES=30

# Real-time News Feed Integration
FOREX_FACTORY_ENABLED=True
FXSTREET_API_KEY=your-fxstreet-api-key-here
INVESTING_COM_ENABLED=True
ALPHA_VANTAGE_API_KEY=your-alpha-vantage-api-key-here

# LBMA Auction Blackout - Client Spec: ±10-15 min around 10:30 & 15:00 London
LBMA_AUCTION_BUFFER_MINUTES=15

# Velocity & Acceptance Guards
VELOCITY_SPIKE_MULTIPLIER=2.0
ACCEPTANCE_OUTSIDE_CLOSES_LIMIT=2

# Timeouts - Client Spec: 30-minute confirmation timeout
CONFIRMATION_TIMEOUT_MINUTES=30
RETEST_WINDOW_MINUTES=15

# ADX Configuration
ADX_15M_HIGH_THRESHOLD=25.0

# =============================================================================
# SECURITY & MONITORING
# =============================================================================
# HTTPS Configuration
USE_HTTPS=True

# Redis Cache (Optional but recommended)
REDIS_URL=redis://your-redis-host:6379/1

# Email Configuration for Error Notifications
EMAIL_HOST=smtp.your-email-provider.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=your-email@yourdomain.com
EMAIL_HOST_PASSWORD=your-email-password
DEFAULT_FROM_EMAIL=noreply@yourdomain.com
ADMIN_EMAIL=admin@yourdomain.com

# =============================================================================
# MT5 ORDER PARAMETERS
# =============================================================================
ORDER_DEVIATION=20
MAGIC_NUMBER=234000
ORDER_COMMENT=MT5_Asian_Sweep_Prod
PIP_VALUE_PER_LOT=10

# =============================================================================
# LOGGING & MONITORING
# =============================================================================
# Log Levels: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO
LOG_MAX_SIZE_MB=10
LOG_BACKUP_COUNT=5

# =============================================================================
# DEPLOYMENT SPECIFIC
# =============================================================================
# Server Configuration
SERVER_NAME=your-server-name
DEPLOYMENT_ENV=production
VERSION=1.0.0

# Health Check Endpoints
HEALTH_CHECK_ENABLED=True
METRICS_ENABLED=True

# =============================================================================
# BACKUP & RECOVERY
# =============================================================================
# Database Backup Configuration
BACKUP_ENABLED=True
BACKUP_SCHEDULE=daily
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=/backups/mt5_trading

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================
# Django Performance
DJANGO_WORKERS=4
DJANGO_THREADS=2
DJANGO_TIMEOUT=30

# Database Connection Pool
DB_CONN_MAX_AGE=300
DB_CONN_POOL_SIZE=20

# =============================================================================
# FEATURE FLAGS
# =============================================================================
# Enable/Disable Features
ENABLE_WEEKLY_CIRCUIT_BREAKER=True
ENABLE_DAILY_LIMITS=True
ENABLE_NEWS_BLACKOUT=True
ENABLE_VELOCITY_GUARD=True
ENABLE_ACCEPTANCE_OUTSIDE_GUARD=True
ENABLE_LBMA_AUCTION_BLACKOUT=True

# =============================================================================
# API RATE LIMITING
# =============================================================================
API_RATE_LIMIT_ANON=100/hour
API_RATE_LIMIT_USER=1000/hour
API_THROTTLE_ENABLED=True

# =============================================================================
# MONITORING & ALERTING
# =============================================================================
# Monitoring Configuration
MONITORING_ENABLED=True
ALERT_EMAIL_ENABLED=True
ALERT_WEBHOOK_URL=https://your-webhook-url.com/alerts

# Performance Thresholds
MAX_RESPONSE_TIME_MS=5000
MAX_MEMORY_USAGE_MB=1024
MAX_CPU_USAGE_PERCENT=80

# =============================================================================
# END OF CONFIGURATION
# =============================================================================
